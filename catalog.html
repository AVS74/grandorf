<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>

<title>Купить корма Grandorf и Premier для кошек и собак в Челябинске | Зоомагазин «Чемпион»</title>
<meta name="description" content="Купить корма Grandorf Holistic, Grandorf Fresh, Grandorf Vet и Premier для кошек и собак в Челябинске. Зоомагазин «Чемпион»: оригинальные корма, консультации по подбору, доставка по городу и области. Тел. +7 (962) 485-46-25.">
  <meta name="keywords" content="Grandorf, Premier, корм для кошек, корм для собак, холистик, супер-премиум, Челябинск, Чемпион">
  <link rel="canonical" href="https://grandorf74.ru/catalog.html">
  <meta name="robots" content="index,follow,max-image-preview:large">

  <link rel="stylesheet" href="styles.css">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Каталог кормов — «Чемпион» (Челябинск)">
  <meta property="og:description" content="Онлайн-каталог зоомагазина &laquo;Чемпион&raquo; с фильтрами по бренду, виду животного и типу рациона. Оригинальные корма Grandorf и Premier для кошек и собак. Доставка по Челябинску и области.">
  <meta property="og:url" content="https://grandorf74.ru/catalog.html">
  <meta property="og:image" content="https://grandorf74.ru/assets/og-catalog.jpg">
  <meta property="og:locale" content="ru_RU">
</head>
<body class="theme">

<header class="site-header">
  <a class="brand" href="index.html">
    <img src="assets/logo.svg" alt="Логотип" class="logo">
    <span class="brand-name">Чемпион</span>
  </a>
  <nav class="nav">
    <a href="index.html" class="nav-link">Главная</a>
    <a href="catalog.html" class="nav-link is-active">Каталог</a>
    <a href="index.html#contacts" class="nav-link">Контакты</a>
  </nav>
</header>

<main class="container">
  <h1 class="h1">Каталог кормов Grandorf и Premier в Челябинске</h1>

  <!-- SEO-текст для поисковиков -->
  <!-- Описание каталога (SEO-абзац под заголовком "Каталог") -->
 <section class="catalog-intro">
  <p>
    Онлайн-каталог зоомагазина «Чемпион» (Челябинск). 
    С 2014 года продаём корма <strong>Grandorf Holistic</strong>, 
    <strong>Grandorf Fresh</strong> и <strong>Premier</strong> для кошек и собак.
  </p>
  <p>
    В каталоге более 100 наименований гипоаллергенных рационов: ягнёнок, индейка,
    кролик, утка, белая рыба. Все рецептуры полностью без курицы.
  </p>
  <p>
    В наличии линейки для котят, стерилизованных животных и диеты 
    <strong>Grandorf Vet</strong>. Доставляем по Челябинску и области.
  </p>
  <p>
    Адрес магазина: Свердловский проспект 37. Телефон: +7 (962) 485-46-25.
  </p>
</section>


<section class="catalog-help" id="how-to-choose">
  <h2 class="h2">Как выбрать корм с помощью фильтров</h2>

  <!-- Короткая видимая подсказка для людей -->
  <p class="catalog-lead">
Подберите корм через фильтры по бренду, типу рациона и виду животного. Подробная пошаговая инструкция — в блоке ниже.
  </p>

  <!-- Аккордеон с полным SEO-текстом -->
  <details class="faq-item">
    <summary class="faq-summary">
      <span class="faq-question h3">Пошаговая инструкция по подбору корма</span>
    </summary>

    <div class="faq-answer">
      <ol>
        <li>
          <strong>Определите бренд и линейку корма</strong><br>
          В фильтрах можно сразу выбрать популярные линейки:
          <strong>Grandorf Holistic, Grandorf Fresh, <a href="catalog.html?brand=Grandorf%20Vet" target="new">Grandorf Vet</a>, Premier</strong>.<br>
          </li>

        <li>
          <strong>Уточните вид животного и задачу корма</strong><br>
          Выберите, для кого нужен рацион: кошки или собаки.          
        </li>

        <li>
          <strong>Повседневные рационы (Holistic, Fresh, Premier)</strong><br>
          Для ежедневного питания подойдут линейки:
          <ul>
            <li><strong>Grandorf Holistic</strong> — гипоаллергенные, на основе мясных ингредиентов;</li>
            <li><strong>Grandorf Fresh</strong> — свежие источники белка;</li>
            <li><strong>Premier</strong> — сбалансированные рационы для кошек и собак.</li>
          </ul>
          </li>

        <li>
          <strong>Ветеринарные корма (Grandorf Vet)</strong><br>
          Если ветеринар назначил специальную диету, отметьте в фильтрах категорию <strong>Grandorf Vet</strong>.<br>
        </li>

        <li>
          <strong>Изучите карточку товара</strong><br>
          Для каждого корма указаны:
          <ul>
            <li>состав,</li>
            <li>анализ белков/жиров,</li>
            <li>вкусы,</li>
            <li>фасовки (от пробных пачек до больших мешков).</li>
          </ul>
          Можно быстро сравнить варианты без лишнего листания.
        </li>

        <li>
          <strong>Если остались вопросы — поможем</strong><br>
          Если нужно подобрать корм под возраст, вес, чувствительность ЖКТ или аллергию, звоните:
          <a href="tel:+79624854625">+7 (962) 485-46-25</a>.<br>
          Подберём рацион без навязывания брендов, по реальным потребностям питомца.
        </li>
      </ol>
    </div>
  </details>
</section>


  <!-- Панель фильтров -->
  <form id="filters" class="filters" aria-label="Фильтры каталога">
    <div class="filter">
      <label for="brand">Бренд</label>
      <select id="brand" name="brand">
        <option value="">Все бренды</option>
        <option>Grandorf Holistic</option>
        <option>Grandorf Fresh</option>
        <option>Grandorf Vet</option>
        <option>Premier</option>
      </select>
    </div>

    <div class="filter">
      <label for="type">Тип животного</label>
      <select id="type" name="type">
        <option value="">Кошки и собаки</option>
        <option value="cat">Кошка</option>
        <option value="dog">Собака</option>
      </select>
    </div>
	  
	<div class="filter">
  <label for="purpose">Назначение</label>
  <select id="purpose" name="purpose" data-auto="true">
    <option value="">Повседневный и ветеринарный</option>
    <option value="everyday">Повседневный</option>
    <option value="vet">Ветеринарный</option>
  </select>
	</div>

    <div class="filter">
      <label for="kind">Тип корма</label>
      <select id="kind" name="kind">
        <option value="">Сухой или влажный</option>
        <option value="dry">Сухой</option>
        <option value="wet">Влажный</option>
      </select>
    </div>
	  
	<div class="filter">
  <label for="life_stage">Возраст</label>
  <select id="life_stage" name="life_stage" data-auto="true">
    <option value="">Любой</option>
    <option value="puppy">Щенок</option>
    <option value="kitten">Котёнок</option>
    <option value="adult">Взрослый</option>
    <option value="senior">Пожилой</option>
  </select>
</div>

	  <div class="filter" id="pet_group_block" data-auto="true">
  <div class="filter-label">Особенности</div>

  <label class="chk">
    <input type="checkbox" name="pg_size" value="mini">
    Мелкие породы (mini)
  </label>

  <label class="chk">
    <input type="checkbox" name="pg_size" value="medium">
    Средние породы (medium)
  </label>

  <label class="chk">
    <input type="checkbox" name="pg_size" value="maxi">
    Крупные породы (maxi)
  </label>

  <label class="chk">
    <input type="checkbox" name="pg_sterilized" value="sterilized">
    Стерилизованные
  </label>
</div>


    <div class="filter wide">
      <label for="q">Поиск</label>
      <input id="q" name="q" type="search" placeholder="Название, ингредиенты...">
    </div>

    <div class="filter actions">
      <button type="submit" class="btn btn-primary">Показать</button>
      <button type="reset" class="btn btn-ghost" id="resetFilters">Сброс</button>
    </div>
  </form>

  <p id="foundMeta" class="found-meta" aria-live="polite"></p>
  <div id="catalogGrid" class="grid-cards" aria-live="polite"></div>

    <noscript>
    <section class="nojs-fallback">
      <h2>Популярные товары</h2>
      <ul>
        <li><a href="product.html?id=holistic-adult-steril-4-meat">Grandorf для стерилизованных кошек "4 вида мяса"</a></li>
        <li><a href="product.html?id=fresh-cat-salmon-steril">Grandorf Fresh для стерилизованных кошек "Свежий лосось"</a></li>
        <li><a href="catalog.html?brand=Grandorf+Holistic&type=cat&kind=wet">Grandorf влажный корм консервы для кошек</a></li>
		<li><a href="product.html?id=vet-cat-gastro">Grandorf Vet ветеринарный корм "Gastrointestinal Гастроинтестинал" для кошек при заболеваниях ЖКТ</a></li>
		<li><a href="product.html?id=vet-cat-urinary">Grandorf Vet ветеринарный корм "Urinary Уринари" для кошек при МКБ</a></li>
		<li><a href="product.html?id=premier-cat-lamb-turkey-sterilised">Premier для стерилизованных кошек "Ягненок и Индейка"</a></li>
        <li><a href="product.html?id=premier-cat-maxi">Premier для кошек крупных пород "Свежий лосось"</a></li>
        <li><a href="catalog.html?brand=Grandorf+Holistic&type=dog&kind=wet">Grandorf влажный корм консервы для собак</a></li>
		<li><a href="catalog.html?brand=Grandorf+Holistic&type=dog&kind=dry&q=%D0%BC%D0%B5%D0%BB%D0%BA">Grandorf для собак мелких пород</a></li>
		<li><a href="catalog.html?brand=Grandorf+Vet&type=dog&kind=dry">Grandorf Vet ветеринарный корм для собак</a></li>  
		<li><a href="product.html?id=holistic-dog-fish">Grandorf "Белая рыба" для собак средних пород и крупных пород</a></li>
        <li><a href="product.html?id=fresh-dog-maxi-lamb">Grandorf Fresh сухой корм для взрослых собак средних пород крупных пород "Свежий ягнёнок"</a></li>
		</ul>
    </section>
  </noscript>
</main>

  <!-- ===== КОНТАКТЫ + КАРТА ===== -->
<footer class="site-footer" id="contacts">
  <div class="contacts container">
    <!-- Левая колонка: контакты -->
    <div class="contacts-block">
      <h3 class="h3">Контакты</h3>
      <p><strong>Зоомагазин «Чемпион»</strong></p>
      <p>Челябинск, Свердловский проспект 37, помещение 13</p>
      <p><strong>Телефон:</strong> <a href="tel:+79624854625">+7 (962) 485-46-25</a></p>
		<p><strong>График:&nbsp;</strong></p>
		<p>будни 10:00–20:00 </p>
<p>суббота 10:00–14:00</p>
	  <p>воскресенье — выходной</p>
    </div>

    <!-- Средняя колонка: политики -->
    <div class="policy-column">
      <h3 class="h3">Документы</h3>
      <div class="policy-links">
        <a class="policy-link"
           href="docs/policy-personal.pdf"
           target="_blank"
           rel="noopener">
          Политика обработки персональных данных (PDF)
        </a>
        <a class="policy-link"
           href="docs/policy-cookies.pdf"
           target="_blank"
           rel="noopener">
          Политика использования cookies (PDF)
        </a>
      </div>
    </div>

    <!-- Правая колонка: соцсети -->
    <div class="socials" id="socials">
      <h3 class="h3">Соцсети</h3>
      <ul class="socials-list" role="list">
<li>
            <a class="social-pill" href="https://vk.com/acana_chel" target="_blank" rel="noopener noreferrer" aria-label="ВКонтакте — Чемпион">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M3 7c0-.6.4-1 1-1h3c.4 0 .8.3.9.7 0 0 1 3 2.2 4.7.6.8 1 .6 1 .1V7c0-.6.4-1 1-1h2c.5 0 1 .4 1 1v4.1c0 .6.4.8 1 .3 1.2-1.1 2.2-3.4 2.2-3.4.2-.5.6-.9 1.1-1h3c.7 0 1.1.8.7 1.4-1.7 2.7-5 7.6-7 8.9-1.8 1.1-2.9.6-3.5 0-.6-.6-1.1-1.3-1.6-2-.3-.4-.9-.5-1.3-.1l-1.2 1.1c-.3.3-.8.3-1.1 0C6.4 14.9 3 9.7 3 7z"/>
              </svg>
              <span>ВКонтакте</span>
            </a>
          </li>
          <li>
            <a class="social-pill" href="https://t.me/acanachel" target="_blank" rel="noopener noreferrer" aria-label="Telegram — Чемпион">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M9.7 14.6 9.5 18c.4 0 .6-.2.8-.4l1.9-1.8 3.9 2.9c.7.4 1.2.2 1.3-.7l2.4-11c.2-.9-.3-1.3-1-1.1L4.7 10c-.9.3-.9.8-.2 1l3.7 1.2 8.6-5.4c.4-.3.8-.1.5.2l-7.6 7.6z"/>
              </svg>
              <span>Telegram</span>
            </a>
          </li>
      </ul>
    </div>

    <!-- Карта на всю ширину снизу -->
<div class="footer-map" aria-label="Карта расположения магазина">
  <script async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3A261344b5132bc5b57249d9e0b433792eee377268fc636d8954d2af3061b69d82&amp;width=100%25&amp;height=100%25&amp;lang=ru_RU&amp;scroll=true"></script>
  <noscript>
    <p>
      Наш адрес: Челябинск, Свердловский проспект 37, помещение 13.
      <a href="https://yandex.ru/maps/..." target="_blank" rel="noopener">Посмотреть на карте</a>
    </p>
  </noscript>
</div>

  </div>
	<div class="footer-small">© Чемпион, 2025</div>
</footer>

<script src="data.js"></script>
<script src="app.js" defer></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const grid = document.getElementById('catalogGrid');
  const form = document.getElementById('filters');
  const resetBtn = document.getElementById('resetFilters');
  const foundMeta = document.getElementById('foundMeta');

  // Если на странице нет каталога (на всякий случай) — выходим
  if (!grid || !form) return;

  // Источник данных (как в вашем проекте)
  const PRODUCTS = (window.PRODUCTS || []);

  const IMG_PLACEHOLDER = 'assets/placeholder-pack.webp';
  function resolveImg(path) {
    if (!path) return IMG_PLACEHOLDER;
    let p = String(path).trim();
    if (/^https?:\/\//i.test(p) || p.startsWith('assets/')) return p;
    p = p.replace(/^\.?\//, '');
    return 'assets/products/' + p;
  }

  function formatPrice(n) {
    const x = typeof n === 'number' ? n : parseFloat(String(n).replace(/\s/g,'')) || 0;
    return x.toLocaleString('ru-RU') + ' ₽';
  }

  function renderSizes(sizes) {
    if (!sizes || !sizes.length) return '';
    const pills = sizes.slice(0, 4).map(s =>
      `<span class="size-pill"><b>${s.weight}</b> ${formatPrice(s.price)}</span>`
    ).join('');
    return `<div class="sizes">${pills}</div>`;
  }

  function debounce(fn, ms=200){
    let t;
    return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a),ms); };
  }

  // pet_group может быть массивом или строкой "medium;maxi"
  function asArray(x){
    if (!x) return [];
    if (Array.isArray(x)) return x.map(s=>String(s).trim()).filter(Boolean);
    return String(x).split(';').map(s=>s.trim()).filter(Boolean);
  }

  // ---------- 1) Подхват параметров из URL ----------
  const params = new URLSearchParams(location.search);

  // старые + новые селекты (если их нет — просто пропустим)
  ['brand','type','kind','q','purpose','life_stage'].forEach(k=>{
    const el = form.elements[k];
    if (el && params.get(k)) el.value = params.get(k);
  });

  // множественные чекбоксы размеров
  const pgSizes = params.getAll('pg_size');
  if (pgSizes.length) {
    [...form.querySelectorAll('input[name="pg_size"]')].forEach(cb=>{
      cb.checked = pgSizes.includes(cb.value);
    });
  }

  // чекбокс стерилизации
  if (params.get('pg_sterilized') === 'sterilized') {
    const cb = form.querySelector('input[name="pg_sterilized"]');
    if (cb) cb.checked = true;
  }

  // ---------- 2) Сопоставление фильтров ----------
  function matchesFilters(item, f) {
    if (f.brand && item.brand !== f.brand) return false;
    if (f.type && item.animal !== f.type) return false;
    if (f.kind && item.kind !== f.kind) return false;

    // purpose: в данных либо 'vet', либо пусто/undefined
    if (f.purpose) {
      const pv = String(item.purpose || '').trim();
      if (f.purpose === 'vet' && pv !== 'vet') return false;
      if (f.purpose === 'everyday' && pv === 'vet') return false;
    }

    // life_stage: строгое совпадение, пустое в данных считается "универсальным"
    if (f.life_stage) {
      const ls = String(item.life_stage || '').trim();
      if (ls !== f.life_stage) return false;
    }

    // pet_group (чекбоксы)
    const pg = asArray(item.pet_group);

    // размеры: если выбрали несколько — логика ИЛИ (покажи, если подходит хотя бы одному)
    if (Array.isArray(f.pg_size) && f.pg_size.length) {
      if (!f.pg_size.some(v => pg.includes(v))) return false;
    }

    // стерилизация: строгий фильтр
    if (f.pg_sterilized === 'sterilized') {
      if (!pg.includes('sterilized')) return false;
    }

    // поиск
    if (f.q) {
      const needle = f.q.toLowerCase();
      const hay = [
        item.brand,
        item.title,
        item.title_ru_catalog,
        item.subtitle_ru,
        item.desc,
        (item.keywords || []).join(' '),
        item.composition ? item.composition.join(' ') : '',
        item.analysis_full_raw || ''
      ].join(' ').toLowerCase();
      if (!hay.includes(needle)) return false;
    }

    return true;
  }

  // ---------- 3) Рендер ----------
  function render(items) {
    grid.innerHTML = '';
    if (foundMeta) foundMeta.textContent = `Найдено: ${items.length}`;

    if (!items.length) {
      grid.innerHTML = `<div class="empty">Ничего не найдено. Попробуйте снять часть фильтров.</div>`;
      return;
    }

    const frag = document.createDocumentFragment();

    items.forEach(p=>{
      const a = document.createElement('a');
      a.className = 'card';
      a.href = `product.html?id=${encodeURIComponent(p.id)}`;

      const pack = resolveImg(p.images?.pack);

      // Чипы (сохранил твой стиль) + добавил вет-метку, если есть
      const chips = [];
      chips.push(p.animal === 'cat' ? 'Кошка' : 'Собака');
      chips.push(p.kind === 'dry' ? 'Сухой' : 'Влажный');
      if (String(p.purpose || '').trim() === 'vet') chips.push('Ветеринарный');

      a.innerHTML = `
        <div class="card-media">
          <img src="${pack}"
               alt="Корм ${p.title} — ${p.brand} (${p.animal==='cat'?'кошка':'собака'}, ${p.kind==='dry'?'сухой':'влажный'})"
               title="${p.title} — ${p.brand}"
               loading="lazy" decoding="async"
               onerror="this.src='${IMG_PLACEHOLDER}'">
        </div>
        <div class="card-body">
          <div class="card-brand">${p.brand}</div>
          <h3 class="card-title">${(p.title_ru_catalog && p.title_ru_catalog.trim()) ? p.title_ru_catalog : p.title}</h3>
          <div class="chip-row">
            ${chips.map(t=>`<span class="chip">${t}</span>`).join('')}
          </div>
          ${renderSizes(p.sizes)}
        </div>`;

      frag.appendChild(a);
    });

    grid.appendChild(frag);
  }

  // ---------- 4) (Опционально) скрывать "пустые" фильтры ----------
  // Ничего не ломает: если элементов нет — просто не делает ничего.
  function updateAutoUI() {
    const animal = (form.elements.type?.value || '').trim();
    const kind = (form.elements.kind?.value || '').trim();

    const base = PRODUCTS.filter(p => {
      if (animal && p.animal !== animal) return false;
      if (kind && p.kind !== kind) return false;
      return true;
    });

    // Purpose показываем только если вообще есть vet в текущей базе
    const hasVet = base.some(p => String(p.purpose || '').trim() === 'vet');
    const purposeEl = form.elements.purpose;
    if (purposeEl) {
      const wrap = purposeEl.closest('.filter') || purposeEl.parentElement;
      if (wrap) wrap.style.display = hasVet ? '' : 'none';
      if (!hasVet) purposeEl.value = '';
    }

    // Life_stage показываем только если есть 2+ разных непустых значений
    const stages = [...new Set(base.map(p => String(p.life_stage || '').trim()).filter(Boolean))];
    const lsEl = form.elements.life_stage;
    if (lsEl) {
      const wrap = lsEl.closest('.filter') || lsEl.parentElement;
      if (wrap) wrap.style.display = (stages.length >= 2) ? '' : 'none';
      if (stages.length < 2) lsEl.value = '';
    }

    // Pet_group показываем, если вообще где-то есть разметка
    const hasPG = base.some(p => asArray(p.pet_group).length);
    const anyPGInput = form.querySelector('input[name="pg_size"], input[name="pg_sterilized"]');
    if (anyPGInput) {
      const wrap = anyPGInput.closest('.filter') || anyPGInput.parentElement;
      if (wrap) wrap.style.display = hasPG ? '' : 'none';
      if (!hasPG) {
        [...form.querySelectorAll('input[name="pg_size"], input[name="pg_sterilized"]')].forEach(cb => cb.checked = false);
      }
    }

    // Для кошек скрываем mini/medium (если чекбоксы размеров есть)
    if (animal === 'cat') {
      [...form.querySelectorAll('input[name="pg_size"]')].forEach(cb => {
        if (cb.value === 'mini' || cb.value === 'medium') cb.checked = false;
        const row = cb.closest('label') || cb.parentElement;
        if (row && (cb.value === 'mini' || cb.value === 'medium')) row.style.display = 'none';
        if (row && cb.value === 'maxi') row.style.display = '';
      });
    } else if (animal === 'dog') {
      // Для собак возвращаем видимость, если скрывали
      [...form.querySelectorAll('input[name="pg_size"]')].forEach(cb => {
        const row = cb.closest('label') || cb.parentElement;
        if (row) row.style.display = '';
      });
    }
  }

  // ---------- 5) Применение фильтров + URL ----------
  function applyFilters(pushState=true) {
    updateAutoUI();

    const fd = new FormData(form);

    // Формируем объект фильтров
    const f = Object.fromEntries(fd.entries());

    // множественные размеры
    f.pg_size = fd.getAll('pg_size');
    // стерилизация
    f.pg_sterilized = fd.get('pg_sterilized');

    const filtered = PRODUCTS.filter(item => matchesFilters(item, f));
    render(filtered);

    if (pushState) {
      const q = new URLSearchParams();

      // обычные поля
      ['brand','type','purpose','kind','life_stage','q'].forEach(k=>{
        const v = (f[k] || '').toString().trim();
        if (v) q.set(k, v);
      });

      // множественные размеры
      (f.pg_size || []).forEach(v => { if (v) q.append('pg_size', v); });

      // стерилизация
      if (f.pg_sterilized === 'sterilized') q.set('pg_sterilized', 'sterilized');

      history.replaceState(null, '', q.toString() ? `?${q}` : location.pathname);
    }
  }

  // ---------- 6) События ----------
  form.addEventListener('submit', e => { e.preventDefault(); applyFilters(true); });

  if (resetBtn) {
    resetBtn.addEventListener('click', e => {
      e.preventDefault();
      form.reset();
      applyFilters(true);
    });
  }

  const autoApply = debounce(()=>applyFilters(true), 220);

  // селекты/поиск (старые+новые)
  ['brand','type','purpose','kind','life_stage','q'].forEach(name=>{
    const el = form.elements[name];
    if(!el) return;
    el.addEventListener(name==='q' ? 'input' : 'change', autoApply);
  });

  // чекбоксы pet_group
  [...form.querySelectorAll('input[name="pg_size"], input[name="pg_sterilized"]')]
    .forEach(cb => cb.addEventListener('change', autoApply));

  // enter в поиске
  form.elements.q?.addEventListener('keydown', e=>{
    if(e.key==='Enter'){ e.preventDefault(); applyFilters(true); }
  });

  // первый рендер
  applyFilters(false);
});
</script>


<!-- Schema.org: магазин -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Store",
  "name": "Чемпион",
  "image": "https://grandorf74.ru/assets/logo.svg",
  "telephone": "+7 (962) 485-46-25",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Свердловский проспект 37, помещение 13",
    "addressLocality": "Челябинск",
    "addressCountry": "RU"
  },
    "openingHoursSpecification": [{
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday"],
      "opens": "10:00",
      "closes": "20:00"
    },{
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": "Saturday",
      "opens": "10:00",
      "closes": "14:00"
    }]
}
</script>

<!-- Schema.org: список товаров -->
<script>
(function(){
  if (!window.PRODUCTS) return;
  const items = PRODUCTS.slice(0, 100).map((p, i) => ({
    "@type": "ListItem",
    "position": i+1,
    "url": (location.origin || '') + "/product.html?id=" + encodeURIComponent(p.id),
    "name": p.title
  }));
  const ld = {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "itemListElement": items
  };
  const s = document.createElement('script');
  s.type = 'application/ld+json';
  s.textContent = JSON.stringify(ld);
  document.body.appendChild(s);
})();
</script>

<button id="toTopBtn" class="to-top" type="button" aria-label="Наверх" title="Наверх">
  ↑
</button>

<script>
  (function () {
    const btn = document.getElementById('toTopBtn');
    if (!btn) return;

    // показать/скрыть при прокрутке
    const onScroll = () => {
      const y = window.scrollY || document.documentElement.scrollTop;
      btn.classList.toggle('is-visible', y > 600);
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // плавный скролл наверх
    btn.addEventListener('click', () => {
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      window.scrollTo({ top: 0, behavior: reduce ? 'auto' : 'smooth' });
      btn.blur();
    });

    // чтобы не залипала над футером на сверхнизких экранах (мягкая защита)
    const ro = new ResizeObserver(() => {
      const footer = document.querySelector('footer, .site-footer');
      if (!footer) return;
      const vpH = window.innerHeight;
      const rect = footer.getBoundingClientRect();
      // если футер почти в кадре — поднимем кнопку чуть выше
      btn.style.bottom = rect.top < vpH - 40 ? '24px' : '88px';
    });
    ro.observe(document.body);
  })();
</script>

	<!-- Cookie banner (RKN 2025, Яндекс.Метрика по согласию) -->
<div id="cookie-banner" hidden>
  <div class="cb-wrap">
    <div class="cb-text">
      Мы используем файлы cookies для работы сайта зоомагазина «Чемпион» и аналитики (Яндекс.Метрика).
      Подробнее: <a href="cookies.html" target="_blank" rel="noopener">Политика cookies</a>
      и <a href="/docs/policy-personal.pdf" target="_blank" rel="noopener">Политика обработки Персональных Данных (PDF)</a>.
    </div>
    <div class="cb-actions">
      <button type="button" id="cb-accept">Принять все</button>
      <button type="button" id="cb-settings">Настроить</button>
      <button type="button" id="cb-reject">Отклонить аналитику</button>
    </div>
  </div>

  <!-- Простое модальное "Настройки" -->
  <div class="cb-modal" id="cb-modal" hidden>
    <div class="cb-modal-card">
      <h3>Настройки файлов cookies</h3>
      <label class="cb-opt">
        <input type="checkbox" checked disabled> Необходимые (обязательные)
      </label>
      <label class="cb-opt">
        <input type="checkbox" id="cb-analytics" checked> Аналитические (Яндекс.Метрика)
      </label>
      <div class="cb-actions">
        <button type="button" id="cb-save">Сохранить</button>
        <button type="button" id="cb-close">Отмена</button>
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  const ID = /* ВСТАВЬ свой номер счётчика */ 43060179;   // например 12345678
  const KEY = 'cookieConsentV1'; // журнал согласия (версия для будущих обновлений)

  const $b = document.getElementById('cookie-banner');
  const $m = document.getElementById('cb-modal');

  const getConsent = () => {
    try { return JSON.parse(localStorage.getItem(KEY) || 'null'); }
    catch { return null; }
  };
  const setConsent = (analytics) => {
    const payload = { necessary:true, analytics:!!analytics, ts:new Date().toISOString() };
    localStorage.setItem(KEY, JSON.stringify(payload));
    return payload;
  };

  function loadMetrika(){
    if (!ID || window.ym) return;
    (function(m,e,t,r,i,k,a){ m[i]=m[i]||function(){ (m[i].a=m[i].a||[]).push(arguments) };
      m[i].l=1*new Date(); k=e.createElement(t), a=e.getElementsByTagName(t)[0];
      k.async=1; k.src=r; a.parentNode.insertBefore(k,a)
    })(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    ym(ID, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true });
  }

  const saved = getConsent();
  if (!saved) $b.hidden = false;
  if (saved?.analytics) loadMetrika();

  // Кнопки баннера
  document.getElementById('cb-accept').onclick = () => {
    setConsent(true); loadMetrika(); $b.hidden = true;
  };
  document.getElementById('cb-reject').onclick = () => {
    setConsent(false); $b.hidden = true;
  };
  document.getElementById('cb-settings').onclick = () => { $m.hidden = false; };

  // Модалка
  document.getElementById('cb-save').onclick = () => {
    const ok = document.getElementById('cb-analytics').checked;
    setConsent(ok); if (ok) loadMetrika(); $m.hidden = true; $b.hidden = true;
  };
  document.getElementById('cb-close').onclick = () => { $m.hidden = true; };
})();
</script>

</body>
</html>
